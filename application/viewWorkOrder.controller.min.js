sap.ui.controller("application.viewWorkOrder",{onInit:function(){viewWorkOrderController=this;this.getView().addEventDelegate({onBeforeShow:function(a){viewWorkOrderController.onBeforeShow(a.data)}})},onBackPress:function(){workOrderApp.getNavigation().backPage()},onBeforeShow:function(a){console.log(a);if(a.action==="viewExisting"){var b=new sap.ui.model.json.JSONModel(a.workOrder);sap.ui.getCore().setModel(b,"currentWorkOrder")}else{if(a.action==="readNew"){oResponse={statusCode:200,data:referenceData.workOrders[a.workOrderNumber]};viewWorkOrderController.onReadNewWorkOrderCallback(oResponse)}}},onReadNewWorkOrderCallback:function(c){if(c===undefined||c===null||c.statusCode!==200||c.data===undefined||c.data===null){workOrderApp.getNavigation().backPage();return}var g=sap.ui.getCore().getModel("workOrderList").getData();g.data.push(c.data);var a=new sap.ui.model.json.JSONModel(g);sap.ui.getCore().setModel(a,"workOrderList");var f=new sap.ui.model.json.JSONModel(c.data);sap.ui.getCore().setModel(f,"currentWorkOrder");var e=new sap.ui.model.json.JSONModel({workOrderNumber:""});sap.ui.getCore().setModel(e,"newWorkOrder");var d=new sap.ui.model.json.JSONModel({postDate:new Date()});sap.ui.getCore().setModel(d,"editConfirmTime");var b=new sap.ui.model.json.JSONModel();sap.ui.getCore().setModel(b,"editConfirmTimeState")},onAddConfirmTimePress:function(){if(!viewWorkOrderController.addConfirmTimeFragment){viewWorkOrderController.addConfirmTimeFragment=new sap.ui.xmlfragment("application.fragments.addConfirmTime",this)}viewWorkOrderController.addConfirmTimeFragment.open()},onSaveWorkOrderPress:function(){},onTechnicallyCompleteWorkOrderPress:function(){},onAddCancelPress:function(){var a=new sap.ui.model.json.JSONModel();sap.ui.getCore().setModel(a,"editConfirmTimeState");viewWorkOrderController.addConfirmTimeFragment.close()},onAddConfirmPress:function(){var b=sap.ui.getCore().getModel("editConfirmTime").getData();var d=true;var a=sap.ui.getCore().getModel("editConfirmTimeState").getData();if(b===undefined||b===null){a.duration="Error";a.durationUnit="Error";a.postDate="Error";a.confirmationText="Error";d=false}if(b.duration===undefined||b.duration===""){a.duration="Error";d=false}else{a.duration="None"}if(b.durationUnit==="u1"){a.durationUnit="Error";d=false}else{a.durationUnit="None"}if(b.postDate===undefined||b.postDate===null){a.postDate="Error";d=false}else{a.postDate="None"}if(b.confirmationText===undefined||b.confirmationText===""){a.confirmationText="Error";d=false}else{a.confirmationText="None"}if(!d){var c=new sap.ui.model.json.JSONModel(a);sap.ui.getCore().setModel(c,"editConfirmTimeState");return}viewWorkOrderController.onAddCancelPress()}});