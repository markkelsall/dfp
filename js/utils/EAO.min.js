function EAO(f,e,a,d,b,c){if(b){if(sap.m.BusyDialog("busyDialog")===undefined){new sap.m.BusyDialog("busyDialog")}}this.domain=f;this.bJson=e;this.sUsername=a;this.sPassword=d;this.sEndPoint="";this.oServiceModel=null;this.sErrorMsg="";this.bIsMobile=b;this.getServiceUrl(f);this.oServiceModel=new sap.ui.model.odata.ODataModel(this.sEndPoint,e,a,d,c)}EAO.prototype.requestSentEvent=function(a){if(this.bIsMobile){sap.ui.getCore().byId("busyDialog").open()}else{sap.ui.core.BusyIndicator.show(0)}};EAO.prototype.requestCompletedEvent=function(a){if(this.bIsMobile){sap.ui.getCore().byId("busyDialog").close()}else{sap.ui.core.BusyIndicator.hide()}};EAO.prototype.requestFailedEvent=function(a){if(this.bIsMobile){sap.ui.getCore().byId("busyDialog").close()}else{sap.ui.core.BusyIndicator.hide()}};EAO.prototype.getServiceUrl=function(a){try{if(window.location.hostname==="localhost"){this.sEndPoint="proxy/"+a.replace("://","/");return this.sEndPoint}else{this.sEndPoint=a;return this.sEndPoint}}catch(b){this.sErrorMsg=b}};EAO.prototype.read=function(b,e,d){this.requestSentEvent(b);var c={};var a=this;this.oServiceModel.read(b,{context:null,urlParameters:null,async:true,success:function(g,f){a.successHandler(g,c,e,d,a)},error:function(f){a.errorHandler(f,e,d,a)}})};EAO.prototype.successHandler=function(f,d,e,c,a){var b={};a.requestCompletedEvent(sPath);b.model=f;b.statusCode=f.response.statusCode;b.response=d;b.additionalData=c;e.apply(b,[a])};EAO.prototype.errorHandler=function(e,d,c,a){var b={};a.requestCompletedEvent(sPath);b.statusCode=e.response.statusCode;b.errorModel=a.messageParse(e.response.body,null,null);b.additionalData=c;d.apply(b,[a])};EAO.prototype.update=function(b,e,d){this.requestSentEvent();var c={};var a=this;this.oServiceModel.update(b,e,{context:null,success:function(g,f){a.requestCompletedEvent(b);c.model=g;c.statusCode=200;c.response=f;d(c)},error:function(f){a.sErrorMsg=f;a.requestFailedEvent(that.sErrorMsg);c.statusCode=f.response.statusCode;c.errorModel=a.messageParse(f.response.body,null,null);d(c)},merge:false,async:true,urlParameters:null})};EAO.prototype.merge=function(b,e,d){this.requestSentEvent();var c={};var a=this;this.oServiceModel.update(b,e,{context:null,success:function(g,f){a.requestCompletedEvent(b);c.model=g;c.statusCode=200;c.response=f;d(c)},error:function(f){a.sErrorMsg=f;a.requestFailedEvent(that.sErrorMsg);c.statusCode=f.response.statusCode;c.errorModel=a.messageParse(f.response.body,null,null);d(c)},merge:true,async:true,urlParameters:null})};EAO.prototype.remove=function(b,e,d){this.requestSentEvent();var c={};var a=this;this.oServiceModel.remove(b,{context:null,success:function(g,f){a.requestCompletedEvent(b);c.model=g;c.statusCode=200;c.response=f;c.additionalData=d;e(c)},error:function(f){a.sErrorMsg=f;a.requestFailedEvent(that.sErrorMsg);c.statusCode=f.response.statusCode;c.errorModel=a.messageParse(f.response.body,null,null);f.additionalData=d;e(f)},async:true,urlParameters:null})};EAO.prototype.create=function(a,f,e,d){this.requestSentEvent(a);var b={};var c=this;this.oServiceModel.create(a,f,{context:null,success:function(h,g){c.requestCompletedEvent(a);b.model=h;b.statusCode=200;b.response=g;b.additionalData=d;e(b)},error:function(g){c.sErrorMsg=g;c.requestFailedEvent(c.sErrorMsg);g.additionalData=d;e(g)},async:true,urlParameters:null})};EAO.prototype.batchRead=function(e,g){var d="";var f=[];if(e.length>0){d=e.join()}this.requestSentEvent(d);var b={};var c=this;for(var a=0;a<e.length;a++){f.push(this.oServiceModel.createBatchOperation(e[a],"GET"))}this.oServiceModel.addBatchReadOperations(f);this.oServiceModel.submitBatch(function(i,h){c.requestCompletedEvent(d);b.model=i;b.statusCode=200;b.response=h;c.oServiceModel.clearBatch();g(b)},function(h){c.sErrorMsg=h;c.requestFailedEvent(c.sErrorMsg);b.statusCode=h.response.statusCode;b.errorModel=c.messageParse(h.response.body,null,null);c.oServiceModel.clearBatch();g(b)})};EAO.prototype.batchCreate=function(g,f){var d=g.uri;var e=[];this.requestSentEvent(d);var b={};var c=this;for(var a=0;a<g.data.length;a++){e.push(this.oServiceModel.createBatchOperation(d,"POST",g.data[a]))}this.oServiceModel.addBatchChangeOperations(e);this.oServiceModel.submitBatch(function(i,h){c.requestCompletedEvent(d);b.model=i;b.statusCode=200;b.response=h;c.oServiceModel.clearBatch();f(b)},function(h){c.sErrorMsg=h;c.requestFailedEvent(c.sErrorMsg);b.statusCode=h.response.statusCode;b.errorModel=c.messageParse(h.response.body,null,null);c.oServiceModel.clearBatch();f(b)})};EAO.prototype.batchDelete=function(c,g){var f="";var a=[];if(c.length>0){f=c.join()}this.requestSentEvent(f);var e={};var b=this;for(var d=0;d<c.length;d++){a.push(this.oServiceModel.createBatchOperation(c[d],"DELETE"))}this.oServiceModel.addBatchChangeOperations(a);this.oServiceModel.submitBatch(function(i,h){b.requestCompletedEvent(f);e.model=i;e.statusCode=200;e.response=h;b.oServiceModel.clearBatch();g(e)},function(h){b.sErrorMsg=h;b.requestFailedEvent(that.sErrorMsg);e.statusCode=h.response.statusCode;e.errorModel=that.messageParse(h.response.body,null,null);b.oServiceModel.clearBatch();g(e)})};EAO.prototype.messageParse=function(a,g,f){var d={};try{var h=JSON.parse(a);if(h.error.message!==undefined){d.message=h.error.message.value}if(h.error.innererror.errordetails[0]!==undefined){var c=h.error.innererror.errordetails[0];d.message=c.message;d.messageLevel=c.level;d.messageCode=c.code;d.param1=g;d.param2=f}else{d.message="errorDetail.message";d.messageLevel="errorDetail.level";d.messageCode="errorDetail.code";d.param1=null;d.param2=null}}catch(b){d.message="Error when making call to retrieve data."}return d};